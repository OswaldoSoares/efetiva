<!-- Card - Header -->
<div class="card-header">
    <span>PAGAMENTOS</span>
</div>
<!-- Card - Body -->
<!--TODO: Alterar id no arquivo js e aqui-->
<form method="post" id="js-gera-pagamentos">
    <div class="card-body">
        {% csrf_token %}
        <input type="hidden"
        id="id_idminuta"
        name="idminuta"
        value="{{ s_minuta.idminuta }}">
        <!-- Porcentagem Nota -->
        <div class="card-body-item">
            <div class="input-group">
                <i class="bi bi-wallet2 input-group-addon addon-my-color"></i>
                <span class="form-control input-fake">
                    PORCENTAGEM NOTA
                </span>
                <div class="input-group-addon addon-my-color">
                    <input type="checkbox"
                    class="c_paga"
                    id="c_paga_porc"
                    name="s_porc"
                    {% if s_minuta.paga.c_porc %}
                    checked="checked"
                    {% endif %} />
                </div>
            </div>
        </div>
        <!-- Valores Porcentagem Nota -->
        <div class="card-body-item" id="js-paga-porc">
            <div class="input-group input-group-sm transparente">
                <span class="input-group-addon addon-blue">
                    &nbsp%&nbsp
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="v_porc"
                name="v_porc"
                value="{{ s_minuta.paga.v_porc|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="m_porc"
                name="m_porc"
                value="{{ s_minuta.paga.m_porc|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-my-color">
                    =
                </span>
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="text"
                class="total-paga form-control text-right"
                id="t_paga_porc"
                value="{{ s_minuta.paga.t_porc|stringformat:'.2f' }}"
                readonly />
            </div>
        </div>
        <!-- Horas -->
        <div class="card-body-item">
            <div class="input-group">
                <i class="bi bi-wallet2 input-group-addon addon-my-color"></i>
                <span class="form-control input-fake">
                    HORAS
                </span>
                <div class="input-group-addon addon-my-color">
                    <input type="checkbox"
                    class="c_paga"
                    id="c_paga_hora"
                    {% if s_minuta.paga.c_hora %}
                    checked="checked"
                    {% endif %}
                    name="s_hora">
                </div>
            </div>
        </div>
        <!-- Valores Horas -->
        <div class="card-body-item" id="js-paga-hora">
            <div class="input-group input-group-sm transparente">
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="text"
                id="v_hora"
                name="v_hora"
                class="form-control text-right js-input-change"
                value="{{ s_minuta.paga.v_hora|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-blue">
                    HS
                </span>
                <input type="time"
                class="form-control text-right js-input-change"
                id="m_hora"
                name="m_hora"
                value="{{ s_minuta.paga.m_hora }}" />
                <span class="input-group-addon addon-my-color">
                    =
                </span>
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="texy"
                class="total-paga form-control text-right"
                id="t_paga_hora"
                value="{{ s_minuta.paga.t_hora|stringformat:'.2f' }}"
                readonly />
            </div>
        </div>
        <!-- Horas Excedente -->
        <div class="card-body-item">
            <div class="input-group">
                <i class="bi bi-wallet2 input-group-addon addon-my-color"></i>
                <span class="form-control input-fake">
                    HORAS EXCEDENTE
                </span>
                <div class="input-group-addon addon-my-color">
                    <input type="checkbox"
                    class="c_paga"
                    id="c_paga_exce"
                    name="s_exce"
                    {% if s_minuta.paga.c_exce %}
                    checked="checked"
                    {% endif %} />
                </div>
            </div>
        </div>
        <!-- Valores Horas Excedente -->
        <div class="card-body-item" id="js-paga-exce">
            <div class="input-group input-group-sm transparente">
                <span class="input-group-addon addon-blue">
                    &nbsp%&nbsp
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="v_exce"
                name="v_exce"
                value="{{ s_minuta.paga.v_exce|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-blue">
                    HS
                </span>
                <input type="time"
                class="form-control text-right js-input-change"
                id="m_exce"
                name="m_exce"
                value="{{ s_minuta.paga.m_exce }}" />
                <span class="input-group-addon addon-my-color">
                    =
                </span>
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="texy"
                class="total-paga form-control text-right"
                id="t_paga_exce"
                value="{{ s_minuta.paga.t_exce|stringformat:'.2f' }}"
                readonly />
            </div>
        </div>
        <!-- Kilometragem -->
        <div class="card-body-item">
            <div class="input-group">
                <i class="bi bi-wallet2 input-group-addon addon-my-color"></i>
                <span class="form-control input-fake">
                    KILOMETRAGEM
                </span>
                <div class="input-group-addon addon-my-color">
                    <input type="checkbox"
                    class="c_paga"
                    id="c_paga_kilm"
                    name="s_kilm"
                    {% if s_minuta.paga.c_kilm %}
                    checked="checked"
                    {% endif %} />
                </div>
            </div>
        </div>
        <!-- Valores Kilometragem -->
        <div class="card-body-item" id="js-paga-kilm">
            <div class="input-group input-group-sm transparente">
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="text"
                id="v_kilm"
                name="v_kilm"
                class="form-control text-right js-input-change"
                value="{{ s_minuta.paga.v_kilm|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-blue">
                    UN
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="m_kilm"
                name="m_kilm"
                value="{{ s_minuta.paga.m_kilm|stringformat:'.0f' }}" />
                <span class="input-group-addon addon-my-color">
                    =
                </span>
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="texy"
                class="total-paga form-control text-right"
                id="t_paga_kilm"
                value="{{ s_minuta.paga.t_kilm|stringformat:'.2f' }}"
                readonly />
            </div>
        </div>
        <!-- Entregas -->
        <div class="card-body-item">
            <div class="input-group">
                <i class="bi bi-wallet2 input-group-addon addon-my-color"></i>
                <span class="form-control input-fake">
                    ENTREGAS
                </span>
                <div class="input-group-addon addon-my-color">
                    <input type="checkbox"
                    class="c_paga"
                    id="c_paga_entr"
                    name="s_entr"
                    {% if s_minuta.paga.c_entr %}
                    checked="checked"
                    {% endif %} />
                </div>
            </div>
        </div>
        <!-- Valores Entregas -->
        <div class="card-body-item" id="js-paga-entr">
            <div class="input-group input-group-sm transparente">
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="v_entr"
                name="v_entr"
                value="{{ s_minuta.paga.v_entr|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-blue">
                    UN
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="m_entr"
                name="m_entr"
                value="{{ s_minuta.paga.m_entr|stringformat:'.0f' }}" />
                <span class="input-group-addon addon-my-color">
                    =
                </span>
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="texy"
                class="total-paga form-control text-right"
                id="t_paga_entr"
                value="{{ s_minuta.paga.t_entr|stringformat:'.2f' }}"
                readonly />
            </div>
        </div>     
        <!-- Entregas KG -->
        <div class="card-body-item">
            <div class="input-group">
                <i class="bi bi-wallet2 input-group-addon addon-my-color"></i>
                <span class="form-control input-fake">
                    ENTREGAS KG
                </span>
                <div class="input-group-addon addon-my-color">
                    <input type="checkbox"
                    class="c_paga"
                    id="c_paga_enkg"
                    name="s_enkg"
                    {% if s_minuta.paga.c_enkg %}
                    checked="checked"
                    {% endif %} />
                </div>
            </div>
        </div>
        <!-- Valores Entregas KG -->
        <div class="card-body-item" id="js-paga-enkg">
            <div class="input-group input-group-sm transparente">
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="v_enkg"
                name="v_enkg"
                value="{{ s_minuta.paga.v_enkg|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-blue">
                    KG
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="m_enkg"
                name="m_enkg"
                value="{{ s_minuta.paga.m_enkg|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-my-color">
                    =
                </span>
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="texy"
                class="total-paga form-control text-right"
                id="t_paga_enkg"
                value="{{ s_minuta.paga.t_enkg|stringformat:'.2f' }}"
                readonly />
            </div>
        </div>
        <!-- Entregas Volume -->
        <div class="card-body-item">
            <div class="input-group">
                <i class="bi bi-wallet2 input-group-addon addon-my-color"></i>
                <span class="form-control input-fake">
                    ENTREGAS VOLUME
                </span>
                <div class="input-group-addon addon-my-color">
                    <input type="checkbox"
                    class="c_paga"
                    id="c_paga_evol"
                    name="s_evol"
                    {% if s_minuta.paga.c_evol %}
                    checked="checked"
                    {% endif %} />
                </div>
            </div>
        </div>
        <!-- Valores Entregas Volume -->
        <div class="card-body-item" id="js-paga-evol">
            <div class="input-group input-group-sm transparente">
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="v_evol"
                name="v_evol"
                value="{{ s_minuta.paga.v_evol|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-blue">
                    UN
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="m_evol"
                name="m_evol"
                value="{{ s_minuta.paga.m_evol|stringformat:'.0f' }}" />
                <span class="input-group-addon addon-my-color">
                    =
                </span>
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="texy"
                class="total-paga form-control text-right"
                id="t_paga_evol"
                value="{{ s_minuta.paga.t_evol|stringformat:'.2f' }}"
                readonly />
            </div>
        </div>
        <!-- Saida -->
        <div class="card-body-item">
            <div class="input-group">
                <i class="bi bi-wallet2 input-group-addon addon-my-color"></i>
                <span class="form-control input-fake">
                    SAÍDA
                </span>
                <div class="input-group-addon addon-my-color">
                    <input type="checkbox"
                    class="c_paga"
                    id="c_paga_said"
                    name="s_said"
                    {% if s_minuta.paga.c_said %}
                    checked="checked"
                    {% endif %} />
                </div>
            </div>
        </div>
        <!-- Valores Saida -->
        <div class="card-body-item" id="js-paga-said">
            <div class="input-group input-group-sm transparente">
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="text"
                id="v_said"
                name="v_said"
                class="form-control text-right js-input-change"
                value="{{ s_minuta.paga.v_said|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-blue">
                    UN
                </span>
                <input type="text"
                class="form-control text-right"
                value="1"
                readonly />
                <span class="input-group-addon addon-my-color">
                    =
                </span>
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="texy"
                class="total-paga form-control text-right"
                id="t_paga_said"
                value="{{ s_minuta.paga.v_said|stringformat:'.2f' }}"
                readonly />
            </div>
        </div>
        <!-- Capacidade Peso -->
        <div class="card-body-item">
            <div class="input-group">
                <i class="bi bi-wallet2 input-group-addon addon-my-color"></i>
                <span class="form-control input-fake">
                    CAPACIDADE PESO
                </span>
                <div class="input-group-addon addon-my-color">
                    <input type="checkbox"
                    class="c_paga"
                    id="c_paga_capa"
                    name="s_capa"
                    {% if s_minuta.paga.c_capa %}
                    checked="checked"
                    {% endif %} />
                </div>
            </div>
        </div>
        <!-- Valores Capacidade Peso -->
        <div class="card-body-item" id="js-paga-capa">
            <div class="input-group input-group-sm transparente">
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="v_capa"
                name="v_capa"
                value="{{ s_minuta.paga.v_capa|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-blue">
                    UN
                </span>
                <input type="text"
                class="form-control text-right" value="1"
                readonly />
                <span class="input-group-addon addon-my-color">
                    =
                </span>
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="texy"
                class="total-paga form-control text-right"
                id="t_paga_capa"
                value="{{ s_minuta.paga.v_capa|stringformat:'.2f' }}"
                readonly />
            </div>
        </div>
        <!-- Perimetro -->
        <div class="card-body-item">
            <div class="input-group">
                <i class="bi bi-wallet2 input-group-addon addon-my-color"></i>
                <span class="form-control input-fake">
                    PERIMETRO
                </span>
                <div class="input-group-addon addon-my-color">
                    <input type="checkbox"
                    class="c_paga"
                    id="c_paga_peri"
                    name="s_peri"
                    {% if s_minuta.paga.c_peri %}
                    checked="checked"
                    {% endif %} />
                </div>
            </div>
        </div>
        <!-- Valores Perimetro -->
        <div class="card-body-item" id="js-paga-peri">
            <div class="input-group input-group-sm transparente">
                <span class="input-group-addon addon-blue">
                    &nbsp%&nbsp
                </span>
                <input type="text"
                id="v_peri"
                name="v_peri"
                class="form-control text-right js-input-change"
                value="{{ s_minuta.paga.v_peri|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="m_peri"
                name="m_peri"
                value="{{ s_minuta.paga.m_peri|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-my-color">
                    =
                </span>
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="texy"
                class="total-paga form-control text-right"
                id="t_paga_peri"
                value="{{ s_minuta.paga.t_peri|stringformat:'.2f' }}"
                readonly />
            </div>
        </div>
        <!-- Pernoite -->
        <div class="card-body-item">
            <div class="input-group">
                <i class="bi bi-wallet2 input-group-addon addon-my-color"></i>
                <span class="form-control input-fake">
                    PERNOITE
                </span>
                <div class="input-group-addon addon-my-color">
                    <input type="checkbox"
                    class="c_paga"
                    id="c_paga_pnoi"
                    name="s_pnoi"
                    {% if s_minuta.paga.c_pnoi %}
                    checked="checked"
                    {% endif %} />
                </div>
            </div>
        </div>
        <!-- Valores Pernoite -->
        <div class="card-body-item" id="js-paga-pnoi">
            <div class="input-group input-group-sm transparente">
                <span class="input-group-addon addon-blue">
                    &nbsp%&nbsp
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="v_pnoi"
                name="v_pnoi"
                value="{{ s_minuta.paga.v_pnoi|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="m_pnoi"
                name="m_pnoi"
                value="{{ s_minuta.paga.m_peri|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-my-color">
                    =
                </span>
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="texy"
                class="total-paga form-control text-right"
                id="t_paga_pnoi"
                value="{{ s_minuta.paga.t_pnoi|stringformat:'.2f' }}"
                readonly />
            </div>
        </div>
        <!-- Ajudante -->
        <div class="card-body-item">
            <div class="input-group">
                <i class="bi bi-wallet2 input-group-addon addon-my-color"></i>
                <span class="form-control input-fake">
                    AJUDANTE
                </span>
                <div class="input-group-addon addon-my-color">
                    <input type="checkbox"
                    class="c_paga"
                    id="c_paga_ajud"
                    name="s_ajud"
                    {% if s_minuta.paga.c_ajud %}
                    checked="checked"
                    {% endif %} />
                </div>
            </div>
        </div>
        <!-- Valores Ajudante -->
        <div class="card-body-item" id="js-paga-ajud">
            <div class="input-group input-group-sm transparente">
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="v_ajud"
                name="v_ajud"
                value="{{ s_minuta.paga.v_ajud|stringformat:'.2f' }}" />
                <span class="input-group-addon addon-blue">
                    UN
                </span>
                <input type="text"
                class="form-control text-right js-input-change"
                id="m_ajud"
                name="m_ajud"
                value="{{ s_minuta.paga.m_ajud|stringformat:'.0f' }}" />
                <span class="input-group-addon addon-my-color">
                    =
                </span>
                <span class="input-group-addon addon-blue">
                    R$
                </span>
                <input type="texy"
                class="total-paga form-control text-right"
                id="t_paga_ajud"
                value="{{ s_minuta.paga.t_ajud|stringformat:'.2f' }}"
                readonly />
            </div>
        </div>
    </div>
    {% if s_minuta.ajudantes or s_minuta.motorista %}
    <div class="linha-divisoria-nova"></div>
    {% endif %}
    {% for motorista in s_minuta.motorista %}
    {% if motorista.obj.TipoPgto != 'MENSALISTA' %}
    <div class="card-body-item">
        <div class="input-group">
            <i class="bi bi-person input-group-addon addon-my-color"></i>
            <div class="input-fake div-flex font-menor">
                <span>
                    {{ motorista.apelido }}
                </span>
                <span>
                    R$ {{ s_minuta.paga.motorista|stringformat:'.2f' }}
                </span>
            </div>
            <i class="bi bi-check input-group-addon addon-my-color"></i>
        </div>
    </div>
    </div>
    {% endif %}
    {% endfor %}
    {% for ajudante in s_minuta.ajudantes %}
    {% if ajudante.tipo != 'MENSALISTA' %}
    <div class="card-body-item">
        <div class="input-group">
            <i class="bi bi-person input-group-addon addon-my-color"></i>
            <div class="input-fake div-flex font-menor">
                <span>
                    {{ ajudante.apelido }}
                </span>
                <span>
                    R$ {{ s_minuta.paga.v_ajud|stringformat:'.2f' }}
                </span>
            </div>
            <i class="bi bi-check input-group-addon addon-my-color"></i>
        </div>
    </div>
    {% endif %}
    {% endfor %}
    <div class="card-footer">
        <div class="div-flex">
            {% if s_minuta.motorista or s_minuta.ajudantes %}
            <span class="total"
            id="total-paga">
                TOTAL: R$ {{ s_minuta.paga_minuta|stringformat:'.2f' }}
            </span>
            {% endif %}
            {% if s_minuta.paga_minuta %}
            {% if s_minuta.motorista or s_minuta.ajudantes %}
            {% if s_minuta.status_minuta == 'ABERTA' %}
            {% if not s_minuta.paga_realizada %}
            <button type="submit"
            class="i-button-form-rodape">
                <i class="bi bi-credit-card i-button"
                title="Gera pagamentos"></i>
            </button>
            {% else %}
            <i class="bi bi-reply-all i-button estorna-pagamentos"
            idMinuta="{{ s_minuta.idminuta }}"
            title="Estorna Faturamento"></i>
            {% endif %}
            {% endif %}
            {% endif %}
            {% endif %}
        </div>
    </div>
</form>
